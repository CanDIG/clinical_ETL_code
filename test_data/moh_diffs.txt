> ## Based on repo commit sha "29fd55d173b7a01daa72fcc89187e3aabd1fb51e"
> ## MoH template is manually updated to match the MoH clinical data model
13c14
< DONOR.INDEX.primary_site, {single_val(DONOR_SHEET.primary_site)}
---
> DONOR.INDEX.primary_site, {pipe_delim(DONOR_SHEET.primary_site)}
58,59c59,60
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.is_primary_treatment, {boolean(TREATMENTS_SHEET.is_primary_treatment)}
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.line_of_treatment, {single_val(TREATMENTS_SHEET.line_of_treatment)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.is_primary_treatment, {single_val(TREATMENTS_SHEET.is_primary_treatment)}
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.line_of_treatment, {integer(TREATMENTS_SHEET.line_of_treatment)}
69c70
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.treatment_type, {single_val(TREATMENTS_SHEET.treatment_type)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.treatment_type, {pipe_delim(TREATMENTS_SHEET.treatment_type)}
71c72
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.chemotherapies.INDEX.actual_cumulative_drug_dose, {single_val(CHEMOTHERAPIES_SHEET.actual_cumulative_drug_dose)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.chemotherapies.INDEX.actual_cumulative_drug_dose, {integer(CHEMOTHERAPIES_SHEET.actual_cumulative_drug_dose)}
76c77
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.chemotherapies.INDEX.prescribed_cumulative_drug_dose, {single_val(CHEMOTHERAPIES_SHEET.prescribed_cumulative_drug_dose)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.chemotherapies.INDEX.prescribed_cumulative_drug_dose, {integer(CHEMOTHERAPIES_SHEET.prescribed_cumulative_drug_dose)}
78c79
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.hormone_therapies.INDEX.actual_cumulative_drug_dose, {single_val(HORMONE_THERAPIES_SHEET.actual_cumulative_drug_dose)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.hormone_therapies.INDEX.actual_cumulative_drug_dose, {integer(HORMONE_THERAPIES_SHEET.actual_cumulative_drug_dose)}
83c84
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.hormone_therapies.INDEX.prescribed_cumulative_drug_dose, {single_val(HORMONE_THERAPIES_SHEET.prescribed_cumulative_drug_dose)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.hormone_therapies.INDEX.prescribed_cumulative_drug_dose, {integer(HORMONE_THERAPIES_SHEET.prescribed_cumulative_drug_dose)}
85c86
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.immunotherapies.INDEX.actual_cumulative_drug_dose, {single_val(IMMUNOTHERAPIES_SHEET.actual_cumulative_drug_dose)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.immunotherapies.INDEX.actual_cumulative_drug_dose, {integer(IMMUNOTHERAPIES_SHEET.actual_cumulative_drug_dose)}
91c92
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.immunotherapies.INDEX.prescribed_cumulative_drug_dose, {single_val(IMMUNOTHERAPIES_SHEET.prescribed_cumulative_drug_dose)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.immunotherapies.INDEX.prescribed_cumulative_drug_dose, {integer(IMMUNOTHERAPIES_SHEET.prescribed_cumulative_drug_dose)}
94,96c95,97
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.radiations.INDEX.radiation_boost, {single_val(RADIATIONS_SHEET.radiation_boost)}
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.radiations.INDEX.radiation_therapy_dosage, {single_val(RADIATIONS_SHEET.radiation_therapy_dosage)}
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.radiations.INDEX.radiation_therapy_fractions, {single_val(RADIATIONS_SHEET.radiation_therapy_fractions)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.radiations.INDEX.radiation_boost, {boolean(RADIATIONS_SHEET.radiation_boost)}
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.radiations.INDEX.radiation_therapy_dosage, {integer(RADIATIONS_SHEET.radiation_therapy_dosage)}
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.radiations.INDEX.radiation_therapy_fractions, {integer(RADIATIONS_SHEET.radiation_therapy_fractions)}
101c102
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.greatest_dimension_tumour, {single_val(SURGERIES_SHEET.greatest_dimension_tumour)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.greatest_dimension_tumour, {integer(SURGERIES_SHEET.greatest_dimension_tumour)}
103,105c104,106
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.margin_types_involved, {single_val(SURGERIES_SHEET.margin_types_involved)}
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.margin_types_not_assessed, {single_val(SURGERIES_SHEET.margin_types_not_assessed)}
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.margin_types_not_involved, {single_val(SURGERIES_SHEET.margin_types_not_involved)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.margin_types_involved, {pipe_delim(SURGERIES_SHEET.margin_types_involved)}
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.margin_types_not_assessed, {pipe_delim(SURGERIES_SHEET.margin_types_not_assessed)}
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.margin_types_not_involved, {pipe_delim(SURGERIES_SHEET.margin_types_not_involved)}
113,114c114,115
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.tumour_length, {single_val(SURGERIES_SHEET.tumour_length)}
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.tumour_width, {single_val(SURGERIES_SHEET.tumour_width)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.tumour_length, {integer(SURGERIES_SHEET.tumour_length)}
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.surgeries.INDEX.tumour_width, {integer(SURGERIES_SHEET.tumour_width)}
116c117
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.followups.INDEX.anatomic_site_progression_or_recurrence, {single_val(FOLLOWUPS_SHEET.anatomic_site_progression_or_recurrence)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.followups.INDEX.anatomic_site_progression_or_recurrence, {pipe_delim(FOLLOWUPS_SHEET.anatomic_site_progression_or_recurrence)}
120c121
< DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.followups.INDEX.method_of_progression_status, {single_val(FOLLOWUPS_SHEET.method_of_progression_status)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.treatments.INDEX.followups.INDEX.method_of_progression_status, {pipe_delim(FOLLOWUPS_SHEET.method_of_progression_status)}
129c130
< DONOR.INDEX.primary_diagnoses.INDEX.followups.INDEX.anatomic_site_progression_or_recurrence, {single_val(FOLLOWUPS_SHEET.anatomic_site_progression_or_recurrence)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.followups.INDEX.anatomic_site_progression_or_recurrence, {pipe_delim(FOLLOWUPS_SHEET.anatomic_site_progression_or_recurrence)}
133c134
< DONOR.INDEX.primary_diagnoses.INDEX.followups.INDEX.method_of_progression_status, {single_val(FOLLOWUPS_SHEET.method_of_progression_status)}
---
> DONOR.INDEX.primary_diagnoses.INDEX.followups.INDEX.method_of_progression_status, {pipe_delim(FOLLOWUPS_SHEET.method_of_progression_status)}
149c150
< DONOR.INDEX.exposures.INDEX.pack_years_smoked, {single_val(EXPOSURES_SHEET.pack_years_smoked)}
---
> DONOR.INDEX.exposures.INDEX.pack_years_smoked, {float(EXPOSURES_SHEET.pack_years_smoked)}
151c152
< DONOR.INDEX.exposures.INDEX.tobacco_type, {single_val(EXPOSURES_SHEET.tobacco_type)}
---
> DONOR.INDEX.exposures.INDEX.tobacco_type, {pipe_delim(EXPOSURES_SHEET.tobacco_type)}
153,155c154,156
< DONOR.INDEX.biomarkers.INDEX.ca125, {single_val(BIOMARKERS_SHEET.ca125)}
< DONOR.INDEX.biomarkers.INDEX.cea, {single_val(BIOMARKERS_SHEET.cea)}
< DONOR.INDEX.biomarkers.INDEX.er_percent_positive, {single_val(BIOMARKERS_SHEET.er_percent_positive)}
---
> DONOR.INDEX.biomarkers.INDEX.ca125, {integer(BIOMARKERS_SHEET.ca125)}
> DONOR.INDEX.biomarkers.INDEX.cea, {integer(BIOMARKERS_SHEET.cea)}
> DONOR.INDEX.biomarkers.INDEX.er_percent_positive, {float(BIOMARKERS_SHEET.er_percent_positive)}
161,162c162,163
< DONOR.INDEX.biomarkers.INDEX.hpv_strain, {single_val(BIOMARKERS_SHEET.hpv_strain)}
< DONOR.INDEX.biomarkers.INDEX.pr_percent_positive, {single_val(BIOMARKERS_SHEET.pr_percent_positive)}
---
> DONOR.INDEX.biomarkers.INDEX.hpv_strain, {pipe_delim(BIOMARKERS_SHEET.hpv_strain)}
> DONOR.INDEX.biomarkers.INDEX.pr_percent_positive, {float(BIOMARKERS_SHEET.pr_percent_positive)}
164c165
< DONOR.INDEX.biomarkers.INDEX.psa_level, {single_val(BIOMARKERS_SHEET.psa_level)}
---
> DONOR.INDEX.biomarkers.INDEX.psa_level, {integer(BIOMARKERS_SHEET.psa_level)}
170,171c171,172
< DONOR.INDEX.followups.INDEX, {indexed_on(FOLLOWUPS_SHEET.submitter_donor_id)}
< DONOR.INDEX.followups.INDEX.anatomic_site_progression_or_recurrence, {single_val(FOLLOWUPS_SHEET.anatomic_site_progression_or_recurrence)}
---
> DONOR.INDEX.followups.INDEX, {moh_indexed_on_donor_if_others_absent(FOLLOWUPS_SHEET.submitter_donor_id, FOLLOWUPS_SHEET.submitter_primary_diagnosis_id, FOLLOWUPS_SHEET.submitter_treatment_id)}
> DONOR.INDEX.followups.INDEX.anatomic_site_progression_or_recurrence, {pipe_delim(FOLLOWUPS_SHEET.anatomic_site_progression_or_recurrence)}
175c176
< DONOR.INDEX.followups.INDEX.method_of_progression_status, {single_val(FOLLOWUPS_SHEET.method_of_progression_status)}
---
> DONOR.INDEX.followups.INDEX.method_of_progression_status, {pipe_delim(FOLLOWUPS_SHEET.method_of_progression_status)}
.anatomic_site_progression_or_recurrence, {pipe_delim(FOLLOWUPS_SHEET.anatomic_site_progression_or_recurrence)}
175c176
< DONOR.INDEX.followups.INDEX.method_of_progression_status, {single_val(FOLLOWUPS_SHEET.method_of_progression_status)}
---
> DONOR.INDEX.followups.INDEX.method_of_progression_status, {pipe_delim(FOLLOWUPS_SHEET.method_of_progression_status)}
